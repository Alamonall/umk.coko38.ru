(function(e){function t(t){for(var r,s,o=t[0],i=t[1],l=t[2],m=0,d=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&d.push(c[s][0]),c[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},c={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0f66":function(e,t,n){"use strict";n("1f22")},"1f22":function(e,t,n){},"1f7c":function(e,t,n){"use strict";n("55dc")},"55dc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),c=n("31bd"),a=n("2909"),s=(n("a434"),n("2f62"));r["a"].use(s["a"]);var o=new s["a"].Store({strict:!0,state:{user:null,token:null,isSignin:!1,isSubjectsSidebar:!1,isAreasSidebar:!1,publishers:[],subjects:[],areas:[],levels:[],emcsToAttach:[]},mutations:{setToken:function(e,t){e.token=t,e.isSignin=!!t},setUser:function(e,t){e.user=t},setSubjectsSidebar:function(e,t){e.isSubjectsSidebar=t},setAreasSidebar:function(e,t){e.isAreasSidebar=t},setPublishers:function(e,t){e.publishers=t},setSubjects:function(e,t){e.subjects=t},setAreas:function(e,t){e.areas=t},setLevels:function(e,t){e.levels=t},setEMCsToAttach:function(e,t){e.emcsToAttach=t},updateEMCsToAttach:function(e,t){var n=e.emcsToAttach.indexOf(t);-1===n?e.emcsToAttach.push(t):e.emcsToAttach.splice(n,0,t),e.emcsToAttach=Object(a["a"])(e.emcsToAttach)},removeFromEMCsToAttach:function(e,t){var n=e.emcsToAttach.indexOf(t);-1!==n&&e.emcsToAttach.splice(n,1,t),e.emcsToAttach=Object(a["a"])(e.emcsToAttach)}},actions:{setToken:function(e,t){var n=e.commit;n("setToken",t)},setUser:function(e,t){var n=e.commit;n("setUser",t)},setSubjectsSidebar:function(e,t){var n=e.commit;n("setSubjectsSidebar",t)},setAreasSidebar:function(e,t){var n=e.commit;n("setAreasSidebar",t)},setPublishers:function(e,t){var n=e.commit;n("setPublishers",t)},setSubjects:function(e,t){var n=e.commit;n("setSubjects",t)},setAreas:function(e,t){var n=e.commit;n("setAreas",t)},setLevels:function(e,t){var n=e.commit;n("setLevels",t)},setEMCsToAttach:function(e,t){var n=e.commit;n("setEMCsToAttach",t)},updateEMCsToAttach:function(e,t){var n=e.commit;n("updateEMCsToAttach",t)},removeFromEMCsToAttach:function(e,t){var n=e.commit;n("removeFromEMCsToAttach",t)}}}),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("PageHeader"),e.isAreasSidebar&&e.isSignin?n("TheSidebar",e._l(e.areas,(function(t){return n("v-list-group",{key:t.AreaID,attrs:{value:!1,"prepend-icon":"mdi-account-circle"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)},e._l(t.Schools,(function(r){return n("v-list-group",{key:r.id,attrs:{value:!1,"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",{attrs:{blue:""}},[e._v(e._s(r.code)+" "+e._s(r.name)+" ")])],1)]},proxy:!0}],null,!0)},e._l(e.subjects,(function(c){return n("v-list-item",{key:c.SubjectGlobalID,attrs:{value:!1,link:""}},[n("v-list-item-content",[1==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"admin-emcs-on-school",params:{areaCode:t.code,schoolCode:r.code,subjectCode:c.code}}}},[e._v(" "+e._s(c.name)+" ")]):e._e(),2==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"pmo-emcs-on-school",params:{areaCode:t.code,schoolCode:r.code,subjectCode:c.code}}}},[e._v(" "+e._s(c.name)+" ")]):e._e(),3==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"poo-emcs-on-school",params:{areaCode:t.code,schoolCode:r.code,subjectCode:c.code}}}},[e._v(" "+e._s(c.name)+" ")]):e._e()],1)],1)})),1)})),1)})),1):e._e(),e.isSubjectsSidebar&&e.isSignin?n("TheSidebar",e._l(e.subjects,(function(t){return n("v-list-item",{key:t.SubjectGlobalID,attrs:{value:!1,link:""}},[n("v-list-item-content",[1==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"admin-subject-emcs",params:{subjectCode:t.code}}}},[e._v(" "+e._s(t.name)+" ")]):e._e(),2==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"pmo-subject-emcs",params:{subjectCode:t.code}}}},[e._v(" "+e._s(t.name)+" ")]):e._e(),3==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"poo-subject-emcs",params:{subjectCode:t.code}}}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)],1)})),1):e._e(),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1)],1)},l=[],u=n("5530"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:"",color:"primary",dark:"","clipped-left":""}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}})],1),e.isSignin?e._e():n("v-btn",{attrs:{plain:"",to:{name:"/"}}},[e._v(" Система учёта УМК ")]),e.isSignin?n("div",[n("v-btn",{attrs:{plain:"",to:{path:"/"+e.user.UserRole.name}}},[e._v(" Система учёта УМК ")]),1==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"admin-emcs-on-school-index"}}},[e._v(" УМК ")]):e._e(),1==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"admin-emcs"}}},[e._v(" Конструктор ")]):e._e(),2==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"pmo-emcs-on-school-index"}}},[e._v(" УМК ")]):e._e(),2==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"pmo-emcs"}}},[e._v(" Конструктор ")]):e._e(),3==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"poo-emcs-on-school-index"}}},[e._v(" УМК ")]):e._e(),3==e.user.UserRole.code?n("v-btn",{attrs:{plain:"",to:{name:"poo-emcs"}}},[e._v(" Конструктор ")]):e._e()],1):e._e(),n("v-spacer"),e.isSignin?n("v-btn",{attrs:{plain:"",to:{path:"/"+e.user.UserRole.name}}},[e._v(" "+e._s(e.user.username)+" ")]):e._e(),e.isSignin?n("v-btn",{attrs:{plain:""},on:{click:e.signout}},[e._v(" Выход ")]):e._e(),e.isSignin?e._e():n("v-btn",{attrs:{plain:"",to:{name:"/"}}},[e._v(" Войти ")]),e.isSignin?e._e():n("v-btn",{attrs:{plain:"",to:{name:"signup"}}},[e._v(" Регистрация ")])],1)},d=[],v={methods:{signout:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"/"})}},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"]))},h=v,p=n("2877"),b=n("6544"),f=n.n(b),C=n("40dc"),x=n("8336"),g=n("adda"),S=n("2fa4"),_=Object(p["a"])(h,m,d,!1,null,null,null),j=_.exports;f()(_,{VAppBar:C["a"],VBtn:x["a"],VImg:g["a"],VSpacer:S["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{app:"",width:"20%",left:"true",permanent:"",absolute:"",clipped:""}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v(" МО")]),n("v-list-item-subtitle",[e._v("subtext ")])],1)],1),n("v-divider"),e._t("default",(function(){return[e._v(" Нет данных ")]}))],2)},w=[],E={},$=E,M=n("ce7e"),k=n("132d"),V=n("da13"),A=n("5d23"),R=n("34c3"),T=n("f774"),I=Object(p["a"])($,O,w,!1,null,"3a50487b",null),y=I.exports;f()(I,{VDivider:M["a"],VIcon:k["a"],VListItem:V["a"],VListItemContent:A["a"],VListItemIcon:R["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VNavigationDrawer:T["a"]});var L={name:"App",components:{PageHeader:j,TheSidebar:y},data:function(){return{err:null}},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user","isSubjectsSidebar","isAreasSidebar","subjects","areas"]))},P=L,U=n("7496"),D=n("a523"),F=n("56b0"),B=n("f6c4"),N=Object(p["a"])(P,i,l,!1,null,null,null),z=N.exports;f()(N,{VApp:U["a"],VBtn:x["a"],VContainer:D["a"],VListGroup:F["a"],VListItem:V["a"],VListItemContent:A["a"],VListItemTitle:A["c"],VMain:B["a"]});var G=n("8c4f"),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"d-flex justify-center"},[n("v-col",{staticClass:"mt-5",attrs:{cols:"12",sm:"3"}},[n("v-form",[n("v-text-field",{attrs:{type:"username",name:"username",autocomplete:"off",maxlength:"20"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{autocomplete:"off",type:"password",name:"input-10-1",label:"Normal with hint text",hint:"At least 8 characters"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{on:{click:e.signup}},[e._v(" Зарегистрироваться ")])],1)],1)],1)},H=[],J=n("1da1"),K=(n("96cf"),n("d3b7"),n("bc3a")),Q=n.n(K);Q.a.interceptors.response.use((function(e){return console.log("axios interceptors response"),e}),(function(e){return console.log("axios interceptors error"),Promise.reject(e)}));var W=function(){return Q.a.create({baseURL:"http://localhost:3000/",headers:{Authorization:"Bearer ".concat(o.state.token)}})},X={signup:function(e){return W().post("signup",e)},signin:function(e){return W().post("signin",e)}},Y={data:function(){return{username:"Введите логин",password:"Пароль"}},methods:{signup:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X.signup({username:e.username,password:e.password});case 2:case"end":return t.stop()}}),t)})))()}}},Z=Y,ee=n("62ad"),te=n("4bd4"),ne=n("0fd9"),re=n("8654"),ce=Object(p["a"])(Z,q,H,!1,null,"08b97478",null),ae=ce.exports;f()(ce,{VBtn:x["a"],VCol:ee["a"],VForm:te["a"],VRow:ne["a"],VTextField:re["a"]});var se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"d-flex justify-center"},[n("v-col",{staticClass:"mt-5",attrs:{cols:"12",sm:"3"}},[n("v-form",[n("v-text-field",{attrs:{type:"username",name:"username",maxlength:"20",placeholder:"Введите логин",require:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{type:"password",name:"input-10-1",label:"Введите пароль",placeholder:"Введите пароль",hint:"Как минимум 8 символов",require:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{on:{click:e.signin}},[e._v(" Войти ")])],1)],1)],1)},oe=[],ie={data:function(){return{username:"",password:"",error:null}},methods:{signin:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.signin({username:e.username,password:e.password});case 3:n=t.sent,e.$store.dispatch("setToken",n.data.token),e.$store.dispatch("setUser",n.data.user),1===e.$store.state.user.UserRole.code?e.$router.push("/admin"):2===e.$store.state.user.UserRole.code?e.$router.push("/pmo"):3===e.$store.state.user.UserRole.code&&e.$router.push("/poo"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.error=t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},le=ie,ue=Object(p["a"])(le,se,oe,!1,null,"0ee5002e",null),me=ue.exports;f()(ue,{VBtn:x["a"],VCol:ee["a"],VForm:te["a"],VRow:ne["a"],VTextField:re["a"]});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center align-center"},[e._v(" Страница не найдена ")])},ve=[],he={},pe=he,be=Object(p["a"])(pe,de,ve,!1,null,null,null),fe=be.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&1==e.user.UserRole.code?n("v-row",[n("v-col",[e._v(" Admin ")])],1):e._e()},xe=[],ge=(n("99af"),{getUserData:function(){return W().get("/admin")},getEMCsOnSchool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/admin\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs-on-school"))},getEMCs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/admin\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs\n\t\t\t").concat(null!==e&&void 0!==e&&e.emcId?"/".concat(e.emcId):""))},setEMC:function(e){return W().put("/admin/emcs/".concat(e.id),e)},deleteEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().delete("/admin/emcs/".concat(e.id,"/delete"))},setEMCOnSchool:function(e){return W().put("/admin/emcOnSchool/".concat(e.id),e)},createEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().post("/admin/emcs/create",e)},attachTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return W().post("/admin\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/attach"))},detachFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return W().delete("/admin\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/detach"))}}),Se={created:function(){this.getUserData(),this.$store.dispatch("setSubjectsSidebar",!1),this.$store.dispatch("setAreasSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),methods:{getUserData:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.getUserData();case 3:n=t.sent,e.$store.dispatch("setAreas",n.data.areasAndSchools),e.$store.dispatch("setSubjects",n.data.subjects),e.$store.dispatch("setPublishers",n.data.publishers),e.$store.dispatch("setLevels",n.data.levels),e.$store.dispatch("setEMCsToAttach",n.data.emcsToAttach),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.err=t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},_e=Se,je=Object(p["a"])(_e,Ce,xe,!1,null,"2acf3f11",null),Oe=je.exports;f()(je,{VCol:ee["a"],VRow:ne["a"]});var we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&1==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[e.$route.params.subjectCode?n("EMCOnSchoolSelector",{attrs:{emcs:e.emcs},on:{onAttachEMCTo:e.attachEMCTo}}):e._e()],1),0===e.emcsOnSchool.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" УМК у данного ОО отсутствует ")]):e._e(),n("v-col",{attrs:{cols:"12"}},e._l(e.emcsOnSchool,(function(t){return n("EMCOnSchoolCard",{key:t.id,attrs:{emcOnSchool:t},on:{onDetachEMCFrom:e.detachEMCFrom,onSwapApprovingStatusEMCOnSchool:e.swapApprovingStatusEMCOnSchool}})})),1)],1):e._e()},Ee=[],$e=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" УМК: "+e._s(e.emcOnSchool.EMC.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.isApproved,expression:"emcOnSchool.isApproved"}],attrs:{color:"green","text-color":"white",pill:""}},[e._v(" Подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:!e.emcOnSchool.isApproved,expression:"!emcOnSchool.isApproved"}],attrs:{color:"yellow","text-color":"black",pill:""}},[e._v(" Не подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.EMC.isCustom,expression:"emcOnSchool.EMC.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Пользовательский ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.Publisher.publisherName)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.authors)+" ")]),n("p",[e._v(" Класс: "+e._s(e.emcOnSchool.EMC.grades)+" ")]),n("p",[e._v(" ГИА-"+e._s(e.emcOnSchool.EMC.gia)+" ")]),n("p",[e._v(" Уровень: "+e._s(e.emcOnSchool.EMC.Level?e.emcOnSchool.EMC.Level.name:"Нет данных")+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){e.isDetailing=!e.isDetailing}}},[e._v(" Комментарии ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.$emit("onSwapApprovingStatusEMCOnSchool",e.emcOnSchool)}}},[e.emcOnSchool.isApproved?n("div",[e._v("Снять потдверждение")]):n("div",[e._v("Подтвердить")])]),n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"admin-emc-edit",params:{emcId:e.emcOnSchool.emcId}}}},[e._v(" Редактировать ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.$emit("onDetachEMCFrom",e.emcOnSchool)}}},[e._v(" Открепить УМК ")])],1)],1),n("v-expand-transition",[n("v-card",{directives:[{name:"show",rawName:"v-show",value:e.isDetailing,expression:"isDetailing"}]},[n("v-card-text",{staticClass:"pb-0"},[n("p",[n("strong",[e._v("Причина исползования:")]),e._v(" "+e._s(e.emcOnSchool.usingCoz))]),n("p",[n("strong",[e._v("Причина изменений:")]),e._v(" "+e._s(e.emcOnSchool.correctionCoz)+" ")]),n("p",[n("strong",[e._v("Причина смены: ")]),e._v(" "+e._s(e.emcOnSchool.swapCoz)+" ")])])],1)],1)],1)}),Me=[],ke={props:["emcOnSchool"],data:function(){return{isDetailing:!1}}},Ve=ke,Ae=(n("1f7c"),n("b0af")),Re=n("99d9"),Te=n("cc20"),Ie=n("0789"),ye=Object(p["a"])(Ve,$e,Me,!1,null,"452046e6",null),Le=ye.exports;f()(ye,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VContainer:D["a"],VExpandTransition:Ie["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Добавить УМК ")]),n("v-card-text",[n("v-autocomplete",{attrs:{items:e.emcsTitles,"no-data-text":"Нет данных","item-text":"Description","item-value":"emc",dense:"",rounded:"",solo:"","hide-selected":"",label:"УМК",placeholder:"Введите параметр УМК, по которому вы хотите найти нужный","prepend-icon":"mdi-database-search"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),n("v-card-actions",[n("v-btn",{attrs:{disabled:!e.model,color:"teal accent-3"},on:{click:e.emitAttachingEMC}},[e._v(" Добавить "),n("v-icon",{attrs:{right:""}},[e._v(" mdi-check ")])],1),n("v-spacer"),n("v-btn",{attrs:{disabled:!e.model,color:"red lighten-1"},on:{click:function(t){e.model=null}}},[e._v(" Закрыть "),n("v-icon",{attrs:{right:""}},[e._v(" mdi-close-circle ")])],1)],1),n("v-divider"),n("v-expand-transition",[e.model?n("v-list",e._l(e.fields,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.value)}}),n("v-list-item-subtitle",{domProps:{textContent:e._s(t.key)}})],1)],1)})),1):e._e()],1)],1)},Ue=[],De=(n("d81d"),n("b64b"),n("b0c0"),n("fb6a"),{props:["emcs"],data:function(){return{model:null,descriptionLimit:200,error:null}},watch:{$route:function(){this.model=null}},computed:{fields:function(){var e=this;return this.model?Object.keys(this.model.previewData).map((function(t){return{key:e.model.previewData[t],value:t}})):[]},emcsTitles:function(){var e=this;return this.emcs.map((function(t){var n=t.title.concat(". ")+t.authors.concat(". ")+t.Publisher.name,r=n.length>e.descriptionLimit?n.slice(0,e.descriptionLimit).concat("..."):n,c=[];return c.previewData={},c.previewData["Название"]=t.title,c.previewData["Авторы"]=t.authors,c.previewData["Издатель"]=t.Publisher.name,c.previewData["Предмет"]=t.Subject.name,c.previewData["Классы"]=t.grades,c.previewData["Уровень"]=t.gia,c.previewData["Пользовательская"]=t.isCustom?"Да":"Нет",c.entry=t,{Description:r,emc:c}}))}},methods:{emitAttachingEMC:function(){this.$emit("onAttachEMCTo",this.model),this.model=null}}}),Fe=De,Be=n("c6a6"),Ne=n("8860"),ze=Object(p["a"])(Fe,Pe,Ue,!1,null,null,null),Ge=ze.exports;f()(ze,{VAutocomplete:Be["a"],VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VDivider:M["a"],VExpandTransition:Ie["a"],VIcon:k["a"],VList:Ne["a"],VListItem:V["a"],VListItemContent:A["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VSpacer:S["a"]});var qe={components:{EMCOnSchoolCard:Le,EMCOnSchoolSelector:Ge},data:function(){return{emcsOnSchool:[],emcs:[],error:null}},computed:Object(u["a"])({},Object(s["b"])(["store","isSignin","user"])),created:function(){this.$store.dispatch("setAreasSidebar",!0),this.$store.dispatch("setSubjectsSidebar",!1),this.getEMCsOnSchool(),this.filterEMCBySubject()},watch:{$route:function(){this.getEMCsOnSchool(),this.filterEMCBySubject()}},methods:{filterEMCBySubject:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.emcs=e.$store.state.emcsToAttach.filter((function(t){return t.Subject.code===e.$route.params.subjectCode}));case 1:case"end":return t.stop()}}),t)})))()},getEMCsOnSchool:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.getEMCsOnSchool(e.$route.params);case 3:n=t.sent,e.emcsOnSchool=n.data.emcsOnSchool,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},attachEMCTo:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ge.attachTo(t.$route.params,e.entry.id);case 3:r=n.sent,t.message=r.data.message,t.emcs.splice(t.emcs.indexOf(e.entry),1),t.$store.dispatch("removeFromEMCsToAttach",e.entry),r.data.emcsOnSchool.length>0&&t.emcsOnSchool.splice(0,0,r.data.emcsOnSchool[0]),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),t.error=n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},detachEMCFrom:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ge.detachFrom(t.$route.params,e.emcId);case 3:t.$set(t.emcs,t.emcs.length,e.EMC),t.emcsOnSchool.splice(t.emcsOnSchool.indexOf(e),1),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.error=n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},swapApprovingStatusEMCOnSchool:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.isApproved=!e.isApproved,n.next=4,ge.setEMCOnSchool(e);case 4:r=n.sent,t.$set(t.emcsOnSchool,t.emcsOnSchool.indexOf(e),r.data.emc[0]),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.error=n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}}},He=qe,Je=Object(p["a"])(He,we,Ee,!1,null,"562f3fae",null),Ke=Je.exports;f()(Je,{VCard:Ae["a"],VCol:ee["a"],VRow:ne["a"]});var Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&1==e.user.UserRole.code?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[null==e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4 text-center"},[e._v(" Идёт загрузка данных... ")])],1):e._e(),null!=e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Редактирование УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",value:e.emc.authors}}),n("v-text-field",{attrs:{label:"Класс"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name",label:"Издательство","no-data-text":"Нет данных","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}}),n("v-checkbox",{attrs:{label:"Пользовательский"},model:{value:e.emc.isCustom,callback:function(t){e.$set(e.emc,"isCustom",t)},expression:"emc.isCustom"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.saveEMC}},[e._v(" Сохранить изменения ")]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"admin-emcs"}}},[e._v(" Отменить редактирование ")])],1)],1):e._e()],1):e._e()},We=[],Xe=n("3835"),Ye=(n("7db0"),{data:function(){return{loading:!1,error:null,message:null,emc:{title:null,grades:null,gia:null,Subject:null,publisherId:null,Publisher:null,isCustom:!0,levelId:null,Level:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["publishers","levels","user","subjects","isSignin"])),mounted:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Xe["a"],t.next=4,ge.getEMCs(e.$route.params);case 4:t.t1=t.sent.data.emcs,n=(0,t.t0)(t.t1,1),r=n[0],e.emc=r,t.next=13;break;case 10:t.prev=10,t.t2=t["catch"](0),e.error=t.t2;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{saveEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,ge.setEMC(e.emc);case 6:n=t.sent,e.message=n.data.message,e.$store.dispatch("updateEMCsToAttach",e.emc),e.$router.push({name:"admin-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}}),Ze=Ye,et=n("ac7c"),tt=n("b974"),nt=Object(p["a"])(Ze,Qe,We,!1,null,null,null),rt=nt.exports;f()(nt,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VCheckbox:et["a"],VContainer:D["a"],VSelect:tt["a"],VSpacer:S["a"],VTextField:re["a"]});var ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&1==e.user.UserRole.code?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Создание УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название",placeholder:"Введите название умк"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",placeholder:"Введите автора умк"},model:{value:e.emc.authors,callback:function(t){e.$set(e.emc,"authors",t)},expression:"emc.authors"}}),n("v-text-field",{attrs:{label:"Класс",placeholder:"Введите классы умк"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень",solo:"","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name","no-data-text":"Нет данных",label:"Издательство",placeholder:"Выберите издательство умк",solo:"","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет",placeholder:"Выберите предмет умк",solo:"","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.createEMC}},[e._v(" Создать УМК ")]),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"admin-emcs"}}},[e._v(" Назад ")])],1)],1)],1):e._e()},at=[],st={data:function(){return{error:null,message:null,emc:{title:null,grades:null,gia:null,subjectId:null,Subject:null,publisherId:null,isCustom:null,Level:null,levelId:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["store","isSignin","user","publishers","subjects","levels"])),methods:{createEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,ge.createEMC(e.emc);case 6:n=t.sent,e.message=n.data.message,e.$store.dispatch("updateEMCsToAttach",e.emc),e.$router.push({name:"admin-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},ot=st,it=Object(p["a"])(ot,ct,at,!1,null,null,null),lt=it.exports;f()(it,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VContainer:D["a"],VSelect:tt["a"],VTextField:re["a"]});var ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&1==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"admin-emc-create"}}},[e._v(" Создать УМК ")])],1),n("v-col",{attrs:{cols:"12"}},[0===e.emcs.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" Учебников по этому предмету нету ")]):e._e()],1),n("v-col",{attrs:{cols:"12"}},e._l(e.emcs,(function(t){return n("v-card",{key:t.id},[n("v-card-title",{staticClass:"text-h4"},[e._v(" "+e._s(t.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.isCustom,expression:"emc.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Пользовательский ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(t.Publisher.name)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(t.authors)+" ")]),n("p",[n("strong",[e._v(" Класс: ")]),e._v(" "+e._s(t.grades)+" ")]),n("p",[n("strong",[e._v(" Уровень: ")]),e._v(" "+e._s(t.Level?t.Level.name:"Нет данных")+" ")]),9==t.gia?n("v-chip",{attrs:{color:"indigo lighten-2","text-color":"white",pill:""}},[e._v(" ГИА-"+e._s(t.gia)+" ")]):e._e(),11==t.gia?n("v-chip",{attrs:{color:"light-blue accent-3","text-color":"white",pill:""}},[e._v(" ГИА-"+e._s(t.gia)+" ")]):e._e()],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"admin-emc-edit",params:{emcId:t.id}}}},[e._v(" Редактировать ")]),t.createBy?n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.swapCreatingStatusEMC("emc")}}},[t.isCustom?n("div",[e._v("Сделать официальным (не работает вроде)")]):n("div",[e._v("Сделать снова пользовательским (не работает вроде) ")])]):e._e(),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red darken-1"},on:{click:function(n){return e.deleteEMC(t)}}},[e._v(" Удалить ")])],1)],1)})),1)],1):e._e()},mt=[],dt={data:function(){return{emcs:[],error:null}},created:function(){this.$store.dispatch("setSubjectsSidebar",!0),this.$store.dispatch("setAreasSidebar",!1),this.getEMCsForConstructor()},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),watch:{$route:function(){this.getEMCsForConstructor()}},methods:{getEMCsForConstructor:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.getEMCs(e.$route.params);case 3:n=t.sent,e.emcs=n.data.emcs,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},swapCreatingStatusEMC:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.isCustom=!e.isCustom,n.next=4,ge.setEMC(e);case 4:r=n.sent,t.$set(t.emcs,t.emcs.indexOf(e),r.data.emc[0]),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.error=n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},deleteEMC:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,console.log(e),n.next=4,ge.deleteEMC(e);case 4:r=n.sent,t.message=r.data.message,t.$store.dispatch("removeFromEMCsToAttach",e),t.emcs.splice(t.emcs.indexOf(e),1),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),t.error=n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()}}},vt=dt,ht=Object(p["a"])(vt,ut,mt,!1,null,null,null),pt=ht.exports;f()(ht,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VCol:ee["a"],VRow:ne["a"],VSpacer:S["a"]});var bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&2==e.user.UserRole.code?n("v-row",[n("v-col",[e._v(" PMO ")])],1):e._e()},ft=[],Ct={getUserData:function(){return W().get("/pmo")},getEMCsOnSchool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/pmo\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs-on-school"))},getEMCs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/pmo\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs\n\t\t\t").concat(null!==e&&void 0!==e&&e.emcId?"/".concat(e.emcId):""))},setEMC:function(e){return console.log(e),W().put("/pmo/emcs/".concat(e.id),e)},deleteEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().delete("/pmo/emcs/".concat(e.id,"/delete"))},setEMCOnSchool:function(e){return W().put("/pmo/emcOnSchool/".concat(e.id),e)},createEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().post("/pmo/emcs/create",e)},attachTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return console.log("attachTo: ",e),W().post("/pmo\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/attach"))},detachFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return W().delete("/pmo\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/detach"))}},xt={created:function(){this.getUserData()},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),methods:{getUserData:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.getUserData();case 3:n=t.sent,e.$store.dispatch("setAreas",n.data.areasAndSchools),e.$store.dispatch("setSubjects",n.data.subjects),e.$store.dispatch("setPublishers",n.data.publishers),e.$store.dispatch("setLevels",n.data.levels),e.$store.dispatch("setEMCsToAttach",n.data.emcsToAttach),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.err=t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},gt=xt,St=Object(p["a"])(gt,bt,ft,!1,null,"cb119d74",null),_t=St.exports;f()(St,{VCol:ee["a"],VRow:ne["a"]});var jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&2==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("EMCOnSchoolSelector",{attrs:{emcs:e.emcs},on:{onAttachEMCTo:e.attachEMCTo}})],1),0===e.emcsOnSchool.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" УМК у данного ОО отсутствует ")]):e._e(),n("v-col",{attrs:{cols:"12"}},e._l(e.emcsOnSchool,(function(t){return n("EMCOnSchoolCard",{key:t.id,attrs:{emcOnSchool:t},on:{onDetachEMCFrom:e.detachEMCFrom,onSwapApprovingStatusEMCOnSchool:e.swapApprovingStatusEMCOnSchool}})})),1)],1):e._e()},Ot=[],wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" УМК: "+e._s(e.emcOnSchool.EMC.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.isApproved,expression:"emcOnSchool.isApproved"}],attrs:{color:"green","text-color":"white",pill:""}},[e._v(" Подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:!e.emcOnSchool.isApproved,expression:"!emcOnSchool.isApproved"}],attrs:{color:"yellow","text-color":"black",pill:""}},[e._v(" Не подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.EMC.isCustom,expression:"emcOnSchool.EMC.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Пользовательский ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.Publisher.publisherName)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.authors)+" ")]),n("p",[e._v(" Класс: "+e._s(e.emcOnSchool.EMC.grades)+" ")]),n("p",[e._v(" ГИА-"+e._s(e.emcOnSchool.EMC.gia)+" ")]),n("p",[e._v(" Уровень: "+e._s(e.emcOnSchool.EMC.Level?e.emcOnSchool.EMC.Level.name:"Нет данных")+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){e.isDetailing=!e.isDetailing}}},[e._v(" Комментарии ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.$emit("onSwapApprovingStatusEMCOnSchool",e.emcOnSchool)}}},[e.emcOnSchool.isApproved?n("div",[e._v("Снять потдверждение")]):n("div",[e._v("Подтвердить")])]),n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"pmo-emc-edit",params:{emcId:e.emcOnSchool.emcId}}}},[e._v(" Редактировать ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.$emit("onDetachEMCFrom",e.emcOnSchool)}}},[e._v(" Открепить УМК ")])],1)],1),n("v-expand-transition",[n("v-card",{directives:[{name:"show",rawName:"v-show",value:e.isDetailing,expression:"isDetailing"}]},[n("v-card-text",{staticClass:"pb-0"},[n("p",[n("strong",[e._v("Причина исползования:")]),e._v(" "+e._s(e.emcOnSchool.usingCoz))]),n("p",[n("strong",[e._v("Причина изменений:")]),e._v(" "+e._s(e.emcOnSchool.correctionCoz)+" ")]),n("p",[n("strong",[e._v("Причина смены: ")]),e._v(" "+e._s(e.emcOnSchool.swapCoz)+" ")])])],1)],1)],1)},Et=[],$t={props:["emcOnSchool"],data:function(){return{isDetailing:!1}}},Mt=$t,kt=(n("973f"),Object(p["a"])(Mt,wt,Et,!1,null,"27e21f6e",null)),Vt=kt.exports;f()(kt,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VContainer:D["a"],VExpandTransition:Ie["a"]});var At={components:{EMCOnSchoolCard:Vt,EMCOnSchoolSelector:Ge},data:function(){return{emcsOnSchool:[],emcs:[],error:null}},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),created:function(){this.$store.dispatch("setAreasSidebar",!0),this.$store.dispatch("setSubjectsSidebar",!1),this.getEMCsOnSchool(),this.filterEMCBySubject()},watch:{$route:function(){this.getEMCsOnSchool(),this.filterEMCBySubject()}},methods:{filterEMCBySubject:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.emcsToAttach.filter((function(t){return t.Subject.code===e.$route.params.subjectCode})),console.log("filtered: ",n),e.emcs=n,console.log("filtered: this.emcs ",e.emcs);case 4:case"end":return t.stop()}}),t)})))()},getEMCsOnSchool:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.getEMCsOnSchool(e.$route.params);case 3:n=t.sent,e.emcsOnSchool=n.data.emcsOnSchool,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},attachEMCTo:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ct.attachTo(t.$route.params,e.entry.id);case 3:r=n.sent,t.message=r.data.message,t.emcs.splice(t.emcs.indexOf(e.entry),1),r.data.emcsOnSchool.length>0&&t.emcsOnSchool.splice(0,0,r.data.emcsOnSchool[0]),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.error=n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},detachEMCFrom:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ct.detachFrom(t.$route.params,e.emcId);case 3:t.$set(t.emcs,t.emcs.length,e.EMC),t.emcsOnSchool.splice(t.emcsOnSchool.indexOf(e),1),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.error=n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},swapApprovingStatusEMCOnSchool:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.isApproved=!e.isApproved,n.next=4,Ct.setEMCOnSchool(e);case 4:r=n.sent,t.$set(t.emcsOnSchool,t.emcsOnSchool.indexOf(e),r.data.emc[0]),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.error=n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}}},Rt=At,Tt=Object(p["a"])(Rt,jt,Ot,!1,null,"b8e6be6c",null),It=Tt.exports;f()(Tt,{VCard:Ae["a"],VCol:ee["a"],VRow:ne["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&2==e.user.UserRole.code&&e.emc.createdBy==e.user.id&&e.emc.isCustom?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[null==e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4 text-center"},[e._v(" Идёт загрузка данных... ")])],1):e._e(),null!=e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Редактирование УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",value:e.emc.authors}}),n("v-text-field",{attrs:{label:"Класс"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name",label:"Издательство","no-data-text":"Нет данных","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.saveEMC}},[e._v(" Сохранить изменения ")]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"pmo-emcs"}}},[e._v(" Отменить редактирование ")])],1)],1):e._e()],1):e._e()},Lt=[],Pt={data:function(){return{loading:!1,error:null,message:null,emc:{title:null,grades:null,gia:null,Subject:null,publisherId:null,Publisher:null,isCustom:null,levelId:null,Level:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["isSignin","publishers","subjects","levels","user"])),mounted:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Xe["a"],t.next=4,Ct.getEMCs(e.$route.params);case 4:t.t1=t.sent.data.emcs,n=(0,t.t0)(t.t1,1),r=n[0],e.emc=r,t.next=13;break;case 10:t.prev=10,t.t2=t["catch"](0),e.error=t.t2;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{saveEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,Ct.setEMC(e.emc);case 6:n=t.sent,e.message=n.data.message,e.$store.dispatch("updateEMCsToAttach",e.emc),e.$router.push({name:"pmo-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},Ut=Pt,Dt=Object(p["a"])(Ut,yt,Lt,!1,null,null,null),Ft=Dt.exports;f()(Dt,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VContainer:D["a"],VSelect:tt["a"],VSpacer:S["a"],VTextField:re["a"]});var Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&2==e.user.UserRole.code?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Создание УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название",placeholder:"Введите название умк"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",placeholder:"Введите автора умк"},model:{value:e.emc.authors,callback:function(t){e.$set(e.emc,"authors",t)},expression:"emc.authors"}}),n("v-text-field",{attrs:{label:"Класс",placeholder:"Введите классы умк"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень",solo:"","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name","no-data-text":"Нет данных",label:"Издательство",placeholder:"Выберите издательство умк",solo:"","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет",placeholder:"Выберите предмет умк",solo:"","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.createEMC}},[e._v(" Создать УМК ")]),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"pmo-emcs"}}},[e._v(" Назад ")])],1)],1)],1):e._e()},Nt=[],zt={data:function(){return{error:null,message:null,emc:{title:null,grades:null,gia:null,subjectId:null,Subject:null,publisherId:null,isCustom:!0,Level:null,levelId:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["isSignin","publishers","subjects","levels","user"])),methods:{createEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,Ct.createEMC(e.emc);case 6:n=t.sent,e.message=n.data.message,e.$store.dispatch("updateEMCsToAttach",e.emc),e.$router.push({name:"pmo-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},Gt=zt,qt=Object(p["a"])(Gt,Bt,Nt,!1,null,null,null),Ht=qt.exports;f()(qt,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VContainer:D["a"],VSelect:tt["a"],VTextField:re["a"]});var Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&2==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"pmo-emc-create"}}},[e._v(" Создать УМК ")])],1),n("v-col",{attrs:{cols:"12"}},[0===e.emcs.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" Учебников по этому предмету нету ")]):e._e()],1),n("v-col",{attrs:{cols:"12"}},e._l(e.emcs,(function(t){return n("v-card",{key:t.id},[n("v-card-title",{staticClass:"text-h4"},[e._v(" "+e._s(t.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.isCustom,expression:"emc.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Пользовательский ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(t.Publisher.name)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(t.authors)+" ")]),n("p",[n("strong",[e._v(" Класс: ")]),e._v(" "+e._s(t.grades)+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"pmo-emc-edit",params:{emcId:t.id}}}},[e._v(" Редактировать ")]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red darken-1"},on:{click:function(t){return e.deleteEMC("emc")}}},[e._v(" Удалить ")])],1)],1)})),1)],1):e._e()},Kt=[],Qt={data:function(){return{emcs:[],error:null}},created:function(){this.$store.dispatch("setSubjectsSidebar",!0),this.$store.dispatch("setAreasSidebar",!1),this.getEMCsForConstructor()},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),watch:{$route:function(){this.getEMCsForConstructor()}},methods:{getEMCsForConstructor:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ct.getEMCs(e.$route.params);case 3:n=t.sent,e.emcs=n.data.emcs.filter((function(t){return t.isCustom&&t.createdBy===e.$store.state.user.id})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},swapCreatingStatusEMC:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.isCustom=!e.isCustom,n.next=4,Ct.setEMC(e);case 4:r=n.sent,t.$set(t.emcs,t.emcs.indexOf(e),r.data.emc[0]),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),t.error=n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},deleteEMC:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ct.deleteEMC(e);case 3:r=n.sent,t.message=r.data.message,t.$store.dispatch("removeFromEMCsToAttach",e),t.emcs.splice(t.emcs.indexOf(e),1),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.error=n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},Wt=Qt,Xt=Object(p["a"])(Wt,Jt,Kt,!1,null,null,null),Yt=Xt.exports;f()(Xt,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VCol:ee["a"],VRow:ne["a"],VSpacer:S["a"]});var Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&3==e.user.UserRole.code?n("v-row",[n("v-col",[e._v(" POO ")])],1):e._e()},en=[],tn={getUserData:function(){return W().get("/poo")},getEMCsOnSchool:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/poo\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs-on-school"))},getEMCs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().get("/poo\n\t\t\t".concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.subjectCode?"/subjects/".concat(e.subjectCode):"","\n\t\t\t/emcs\n\t\t\t").concat(null!==e&&void 0!==e&&e.emcId?"/".concat(e.emcId):""))},setEMC:function(e){return W().put("/poo/emcs/".concat(e.id),e)},deleteEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().delete("/poo/emcs/".concat(e.id,"/delete"))},setEMCOnSchool:function(e){return W().put("/poo/emcOnSchool/".concat(e.id),e)},createEMC:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return W().post("/poo/emcs/create",e)},attachTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return console.log("attachTo: ",e),W().post("/poo\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/attach"))},detachFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return W().delete("/poo\n\t\t\t".concat(null!==e&&void 0!==e&&e.areaCode?"/areas/".concat(e.areaCode):"","\n\t\t\t").concat(null!==e&&void 0!==e&&e.schoolCode?"/schools/".concat(e.schoolCode):"","\n\t\t\t/emcs/").concat(t,"/detach"))}},nn={created:function(){this.getUserData()},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),methods:{getUserData:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tn.getUserData();case 3:n=t.sent,e.$store.dispatch("setAreas",n.data.areasAndSchools),e.$store.dispatch("setSubjects",n.data.subjects),e.$store.dispatch("setPublishers",n.data.publishers),e.$store.dispatch("setLevels",n.data.levels),e.$store.dispatch("setEMCsToAttach",n.data.emcsToAttach),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.err=t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},rn=nn,cn=Object(p["a"])(rn,Zt,en,!1,null,"f03a9a34",null),an=cn.exports;f()(cn,{VCol:ee["a"],VRow:ne["a"]});var sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&3==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("EMCOnSchoolSelector",{attrs:{emcs:e.emcs},on:{onAttachEMCTo:e.attachEMCTo}})],1),0===e.emcsOnSchool.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" УМК у данного ОО отсутствует ")]):e._e(),n("v-col",{attrs:{cols:"12"}},e._l(e.emcsOnSchool,(function(t){return n("EMCOnSchoolCard",{key:t.id,attrs:{emcOnSchool:t},on:{onDetachEMCFrom:e.detachEMCFrom}})})),1)],1):e._e()},on=[],ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" УМК: "+e._s(e.emcOnSchool.EMC.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.isApproved,expression:"emcOnSchool.isApproved"}],attrs:{color:"green","text-color":"white",pill:""}},[e._v(" Подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:!e.emcOnSchool.isApproved,expression:"!emcOnSchool.isApproved"}],attrs:{color:"yellow","text-color":"black",pill:""}},[e._v(" Не подтверждено ")]),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.emcOnSchool.EMC.isCustom,expression:"emcOnSchool.EMC.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Созданный вами ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.Publisher.publisherName)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(e.emcOnSchool.EMC.authors)+" ")]),n("p",[e._v(" Класс: "+e._s(e.emcOnSchool.EMC.grades)+" ")]),n("p",[e._v(" ГИА-"+e._s(e.emcOnSchool.EMC.gia)+" ")]),n("p",[e._v(" Уровень: "+e._s(e.emcOnSchool.EMC.Level?e.emcOnSchool.EMC.Level.name:"Нет данных")+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){e.isDetailing=!e.isDetailing}}},[e._v(" Комментарии ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"poo-emc-edit",params:{emcId:e.emcOnSchool.emcId}}}},[e._v(" Редактировать ")]),n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:function(t){return e.$emit("onDetachEMCFrom",e.emcOnSchool)}}},[e._v(" Открепить УМК ")])],1)],1),n("v-expand-transition",[n("v-card",{directives:[{name:"show",rawName:"v-show",value:e.isDetailing,expression:"isDetailing"}]},[n("v-card-text",{staticClass:"pb-0"},[n("p",[n("strong",[e._v("Причина исползования:")]),e._v(" "+e._s(e.emcOnSchool.usingCoz))]),n("p",[n("strong",[e._v("Причина изменений:")]),e._v(" "+e._s(e.emcOnSchool.correctionCoz)+" ")]),n("p",[n("strong",[e._v("Причина смены: ")]),e._v(" "+e._s(e.emcOnSchool.swapCoz)+" ")])])],1)],1)],1)},un=[],mn={props:["emcOnSchool"],data:function(){return{isDetailing:!1}}},dn=mn,vn=(n("0f66"),Object(p["a"])(dn,ln,un,!1,null,"a797d70c",null)),hn=vn.exports;f()(vn,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VContainer:D["a"],VExpandTransition:Ie["a"]});var pn={components:{EMCOnSchoolCard:hn,EMCOnSchoolSelector:Ge},data:function(){return{emcsOnSchool:[],emcs:[],error:null}},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),created:function(){this.$store.dispatch("setAreasSidebar",!0),this.$store.dispatch("setSubjectsSidebar",!1),this.getEMCsOnSchool(),this.filterEMCBySubject()},watch:{$route:function(){this.getEMCsOnSchool(),this.filterEMCBySubject()}},methods:{filterEMCBySubject:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.emcs=e.$store.state.emcsToAttach.filter((function(t){return t.Subject.code===e.$route.params.subjectCode}));case 1:case"end":return t.stop()}}),t)})))()},getEMCsOnSchool:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tn.getEMCsOnSchool(e.$route.params);case 3:n=t.sent,e.emcsOnSchool=n.data.emcsOnSchool,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},attachEMCTo:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tn.attachTo(t.$route.params,e.entry.id);case 3:r=n.sent,t.message=r.data.message,t.emcs.splice(t.emcs.indexOf(e.entry),1),r.data.emcsOnSchool.length>0&&t.emcsOnSchool.splice(0,0,r.data.emcsOnSchool[0]),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.error=n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},detachEMCFrom:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tn.detachFrom(t.$route.params,e.emcId);case 3:t.$set(t.emcs,t.emcs.length,e.EMC),t.emcsOnSchool.splice(t.emcsOnSchool.indexOf(e),1),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.error=n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},bn=pn,fn=Object(p["a"])(bn,sn,on,!1,null,"0e11dbe6",null),Cn=fn.exports;f()(fn,{VCard:Ae["a"],VCol:ee["a"],VRow:ne["a"]});var xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&3==e.user.UserRole.code&&e.emc.createdBy==e.user.id&&e.emc.isCustom?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[null==e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4 text-center"},[e._v(" Идёт загрузка данных... ")])],1):e._e(),null!=e.emc?n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Редактирование УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",value:e.emc.authors}}),n("v-text-field",{attrs:{label:"Класс"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name",label:"Издательство","no-data-text":"Нет данных","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.saveEMC}},[e._v(" Сохранить изменения ")]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"poo-emcs"}}},[e._v(" Отменить редактирование ")])],1)],1):e._e()],1):e._e()},gn=[],Sn={data:function(){return{loading:!1,error:null,message:null,emc:{title:null,grades:null,gia:null,Subject:null,publisherId:null,Publisher:null,isCustom:null,levelId:null,Level:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["isSignin","levels","publishers","subjects","user"])),mounted:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Xe["a"],t.next=4,tn.getEMCs(e.$route.params);case 4:t.t1=t.sent.data.emcs,n=(0,t.t0)(t.t1,1),r=n[0],e.emc=r,t.next=13;break;case 10:t.prev=10,t.t2=t["catch"](0),e.error=t.t2;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},methods:{saveEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,tn.setEMC(e.emc);case 6:n=t.sent,e.$store.dispatch("updateEMCsToAttach",e.emc),e.message=n.data.message,e.$router.push({name:"poo-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},_n=Sn,jn=Object(p["a"])(_n,xn,gn,!1,null,null,null),On=jn.exports;f()(jn,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VContainer:D["a"],VSelect:tt["a"],VSpacer:S["a"],VTextField:re["a"]});var wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&3==e.user.UserRole.code?n("v-container",{staticClass:"px-0",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"text-h4"},[e._v(" Создание УМК ")]),n("v-card-text",{staticClass:"text-h5"},[n("v-text-field",{attrs:{label:"Название",placeholder:"Введите название умк"},model:{value:e.emc.title,callback:function(t){e.$set(e.emc,"title",t)},expression:"emc.title"}}),n("v-text-field",{attrs:{label:"Авторы",placeholder:"Введите автора умк"},model:{value:e.emc.authors,callback:function(t){e.$set(e.emc,"authors",t)},expression:"emc.authors"}}),n("v-text-field",{attrs:{label:"Класс",placeholder:"Введите классы умк"},model:{value:e.emc.grades,callback:function(t){e.$set(e.emc,"grades",t)},expression:"emc.grades"}}),n("v-select",{attrs:{items:e.levels,"item-text":"name","no-data-text":"Нет данных",label:"Уровень",solo:"","return-object":""},model:{value:e.emc.Level,callback:function(t){e.$set(e.emc,"Level",t)},expression:"emc.Level"}}),n("v-select",{attrs:{items:e.publishers,"item-text":"name","no-data-text":"Нет данных",label:"Издательство",placeholder:"Выберите издательство умк",solo:"","return-object":""},model:{value:e.emc.Publisher,callback:function(t){e.$set(e.emc,"Publisher",t)},expression:"emc.Publisher"}}),n("v-select",{attrs:{items:e.subjects,"item-text":"name","no-data-text":"Нет данных",label:"Предмет",placeholder:"Выберите предмет умк",solo:"","return-object":""},model:{value:e.emc.Subject,callback:function(t){e.$set(e.emc,"Subject",t)},expression:"emc.Subject"}})],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4"},on:{click:e.createEMC}},[e._v(" Создать УМК ")]),n("v-btn",{attrs:{text:"",color:"red accent-2",to:{name:"poo-emcs"}}},[e._v(" Назад ")])],1)],1)],1):e._e()},En=[],$n={data:function(){return{error:null,message:null,emc:{title:null,grades:null,gia:null,subjectId:null,Subject:null,publisherId:null,isCustom:null,Level:null,levelId:null}}},created:function(){this.$store.dispatch("setAreasSidebar",!1),this.$store.dispatch("setSubjectsSidebar",!1)},computed:Object(u["a"])({},Object(s["b"])(["isSignin","publishers","subjects","levels","user"])),methods:{createEMC:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.$set(e.emc,"publisherId",e.$store.state.publishers.find((function(t){return t.id===e.emc.Publisher.id})).id),e.$set(e.emc,"subjectId",e.$store.state.subjects.find((function(t){return t.code===e.emc.Subject.code})).id),e.$set(e.emc,"levelId",e.$store.state.levels.find((function(t){return t.id===e.emc.Level.id})).id),t.next=6,tn.createEMC(e.emc);case 6:n=t.sent,e.message=n.data.message,e.$store.dispatch("updateEMCsToAttach",e.emc),e.$router.push({name:"poo-emcs"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},Mn=$n,kn=Object(p["a"])(Mn,wn,En,!1,null,null,null),Vn=kn.exports;f()(kn,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VContainer:D["a"],VSelect:tt["a"],VTextField:re["a"]});var An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSignin&&3==e.user.UserRole.code?n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"poo-emc-create"}}},[e._v(" Создать УМК ")])],1),n("v-col",{attrs:{cols:"12"}},[0===e.emcs.length?n("v-card",{staticClass:"mx-auto text-center"},[e._v(" Учебников по этому предмету созданных вами нету ")]):e._e()],1),n("v-col",{attrs:{cols:"12"}},e._l(e.emcs,(function(t){return n("v-card",{key:t.id},[n("v-card-title",{staticClass:"text-h4"},[e._v(" "+e._s(t.title)+" ")]),n("v-card-text",{staticClass:"text-h5"},[n("div",[n("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.isCustom,expression:"emc.isCustom"}],attrs:{color:"red","text-color":"white",pill:""}},[e._v(" Пользовательский ")])],1),n("p",[n("strong",[e._v(" Издательство: ")]),e._v(" "+e._s(t.Publisher.name)+" ")]),n("p",[n("strong",[e._v(" Авторы: ")]),e._v(" "+e._s(t.authors)+" ")]),n("p",[n("strong",[e._v(" Класс: ")]),e._v(" "+e._s(t.grades)+" ")])]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"teal accent-4",to:{name:"poo-emc-edit",params:{emcId:t.id}}}},[e._v(" Редактировать ")]),n("v-spacer"),n("v-btn",{attrs:{text:"",color:"red darken-1"},on:{click:function(t){return e.deleteEMC("emc")}}},[e._v(" Удалить ")])],1)],1)})),1)],1):e._e()},Rn=[],Tn={data:function(){return{emcs:[],error:null}},created:function(){this.$store.dispatch("setSubjectsSidebar",!0),this.$store.dispatch("setAreasSidebar",!1),this.getEMCsForConstructor()},computed:Object(u["a"])({},Object(s["b"])(["isSignin","user"])),watch:{$route:function(){this.getEMCsForConstructor()}},methods:{getEMCsForConstructor:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tn.getEMCs(e.$route.params);case 3:n=t.sent,e.emcs=n.data.emcs.filter((function(t){return t.isCustom&&t.createdBy===e.$store.state.user.id})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteEMC:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tn.deleteEMC(e);case 3:r=n.sent,t.message=r.data.message,t.$store.dispatch("removeFromEMCsToAttach",e),t.emcs.splice(t.emcs.indexOf(e),1),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.error=n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},In=Tn,yn=Object(p["a"])(In,An,Rn,!1,null,null,null),Ln=yn.exports;f()(yn,{VBtn:x["a"],VCard:Ae["a"],VCardActions:Re["a"],VCardText:Re["b"],VCardTitle:Re["c"],VChip:Te["a"],VCol:ee["a"],VRow:ne["a"],VSpacer:S["a"]}),r["a"].use(G["a"]);var Pn=function(e,t,n){o.state.isSignin&&1===o.state.user.UserRole.code?n():n("/")},Un=function(e,t,n){o.state.isSignin&&2===o.state.user.UserRole.code?n():n("/")},Dn=function(e,t,n){o.state.isSignin&&3===o.state.user.UserRole.code?n():n("/")},Fn=new G["a"]({routes:[{path:"/",name:"/",component:me},{path:"/signup",name:"signup",component:ae},{path:"/admin",name:"main-admin",component:Oe,beforeEnter:Pn},{name:"admin-emcs-on-school-index",path:"/admin/emcs-on-school",component:Ke,beforeEnter:Pn},{name:"admin-emcs-on-school",path:"/admin/areas/:areaCode/schools/:schoolCode/subjects/:subjectCode/emcs-on-school",component:Ke,beforeEnter:Pn},{name:"admin-emcs",path:"/admin/emcs",component:pt,beforeEnter:Pn},{name:"admin-subject-emcs",path:"/admin/subjects/:subjectCode/emcs",component:pt,beforeEnter:Pn},{name:"admin-emc-create",path:"/admin/emcs/create",component:lt,beforeEnter:Pn},{name:"admin-emc-edit",path:"/admin/emcs/:emcId/edit",component:rt,beforeEnter:Pn},{path:"/pmo",name:"main-pmo",component:_t,beforeEnter:Un},{name:"pmo-emcs-on-school-index",path:"/pmo/emcs-on-school",component:It,beforeEnter:Un},{name:"pmo-emcs-on-school",path:"/pmo/areas/:areaCode/schools/:schoolCode/subjects/:subjectCode/emcs-on-school",component:It,beforeEnter:Un},{name:"pmo-emcs",path:"/pmo/emcs",component:Yt,beforeEnter:Un},{name:"pmo-subject-emcs",path:"/pmo/subjects/:subjectCode/emcs",component:Yt,beforeEnter:Un},{name:"pmo-emc-create",path:"/pmo/emcs/create",component:Ht,beforeEnter:Un},{name:"pmo-emc-edit",path:"/pmo/emcs/:emcId/edit",component:Ft,beforeEnter:Un},{path:"/poo",name:"main-poo",component:an,beforeEnter:Dn},{name:"poo-emcs-on-school-index",path:"/poo/emcs-on-school",component:Cn,beforeEnter:Dn},{name:"poo-emcs-on-school",path:"/poo/areas/:areaCode/schools/:schoolCode/subjects/:subjectCode/emcs-on-school",component:Cn,beforeEnter:Dn},{name:"poo-emcs",path:"/poo/emcs",component:Ln,beforeEnter:Dn},{name:"poo-subject-emcs",path:"/poo/subjects/:subjectCode/emcs",component:Ln,beforeEnter:Dn},{name:"poo-emc-create",path:"/poo/emcs/create",component:Vn,beforeEnter:Dn},{name:"poo-emc-edit",path:"/poo/emcs/:emcId/edit",component:On,beforeEnter:Dn},{path:"*",component:fe}]}),Bn=n("f309");r["a"].use(Bn["a"]);var Nn=new Bn["a"]({});r["a"].config.productionTip=!1,Object(c["sync"])(o,Fn),new r["a"]({store:o,router:Fn,vuetify:Nn,render:function(e){return e(z)}}).$mount("#app")},"5fe0":function(e,t,n){},"973f":function(e,t,n){"use strict";n("5fe0")}});
//# sourceMappingURL=app.a3e07f44.js.map